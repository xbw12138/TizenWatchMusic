(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){},103:function(e,t,n){},105:function(e,t,n){},108:function(e,t,n){},110:function(e,t,n){},112:function(e,t,n){},114:function(e,t,n){},116:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){},122:function(e,t,n){},124:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),s=n(3),l=n(4),o=n(6),u=n(5),f=n(2),m=n(128),p=n(107),h=n(129),d=n(8),g=n(11),v=n.n(g),y="http://ecfun.cc:3000",E={SEQUENCE_PLAY:0,RANDOM_PLAY:1,LOOP_PLAY:2};function N(e){var t=y+"/artist/album?id=".concat(e);return v.a.get(t)}var L=n(9),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{y:!0,m:!0,d:!0},n=new Date(e),a=n.getFullYear(),r="0"+(n.getMonth()+1);r=r.substring(r.length-2,r.length);var c="0"+n.getDate();c=c.substring(c.length-2,c.length);var i=[];return t.y&&i.push(a),t.m&&i.push(r),t.d&&i.push(c),i.join("-")};function S(e,t){return e.findIndex(function(e){return e.id===t.id})}function C(e){return e?e<1e5?Math.floor(e):Math.floor(e/1e4)+"\u4e07":0}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return"?param=".concat(window.devicePixelRatio*e,"x").concat(window.devicePixelRatio*t)}n(86);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var M=function(e){Object(o.a)(n,e);var t=k(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.duration;setTimeout(function(){e.props.removeMessage()},t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"hint-message"},this.props.content)}}]),n}(a.Component);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}M.defaultProps={duration:1500};var I=function(e){Object(o.a)(n,e);var t=R(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).addMessage=function(e){a.setState(function(){return{message:e}})},a.removeMessage=function(){a.setState(function(){return{message:null}})},a.state={message:null},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,this.state.message?r.a.createElement(M,{content:this.state.message,removeMessage:this.removeMessage}):null)}}]),n}(a.Component),j=document.createElement("div");document.body.appendChild(j),j.setAttribute("class","message-container");var w,D={info:(w="info",function(e){"info"===w&&i.a.render(r.a.createElement(I,null),j).addMessage(e)})},T=function(e){return{type:"CHANGE_COLLECTOR",value:e}},A=function(e){return{type:"CHANGE_CURRENT_MUSIC_LIST",value:e}},P=function(e){return function(t){t(_(!0)),function(e){var t=y+"/playlist/detail?id=".concat(e);return v.a.get(t)}(e).then(function(e){var n=e.data;n.playlist.tracks=n.playlist.tracks.map(function(e){var t=e.ar.map(function(e){return{id:e.id,name:e.name}});return{id:e.id,musicName:e.name,imgUrl:e.al.picUrl,singers:t,album:{id:e.al.id,name:e.al.name}}}),t(A(n.playlist)),t(_(!1))}).catch(function(){t(_(!1))})}},_=function(e){return{type:"CHANGE_SHOW_LOADING",value:e}},U=function(e){return{type:"CHANGE_CURRENT_MUSIC",value:e}},G=function(e){return{type:"CHANGE_SINGER_INFO",value:e}},x=function(e){return function(t){t(_(!0)),t(G(null)),function(e){var t=y+"/artists?id=".concat(e);return v.a.get(t)}(e).then(function(e){t(G(e.data)),t(_(!1))}).catch(function(){t(_(!1)),D.info("\u6682\u65f6\u4e0d\u80fd\u67e5\u8be2\u5230\u6b64\u6b4c\u624b"),t({type:"HIDE_SINGER_INFO"})})}},H=function(e){return function(t){t(_(!0)),function(e){var t=y+"/album?id=".concat(e);return v.a.get(t)}(e).then(function(e){var n=e.data,a=n.album,r=n.songs,c={name:a.name,id:a.id,description:a.description?a.description:"",coverImgUrl:a.picUrl,tracks:z(r),company:a.company,publishTime:a.publishTime,artist:a.artist,type:a.type};t(_(!1)),t(A(c)),t({type:"HIDE_SINGER_INFO"})}).catch(function(){t(_(!1))})}},B=function(e){return{type:"CHANGE_PLAY_LIST",value:e}},J=function(e){return{type:"CHANGE_CURRENT_INDEX",index:e}},Y=function(e){return{type:"CHANGE_PLAYING_STATUS",status:e}},V=function(e){return{type:"CHANGE_CURRENT_MUSIC_LYRIC",value:e}};function F(){return function(e,t){var n=JSON.parse(JSON.stringify(t())).currentMusic.id;e(V(null)),function(e){var t=y+"/lyric?id=".concat(e);return v.a.get(t)}(n).then(function(t){var n=t.data;e(V(n))})}}var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){var r=a(),c=r.playList,i=S(c,e);(i!==r.currentIndex||t)&&(i>=0?n(J(i)):(c.push(e),n(B(c)),n(J(c.length-1))),n(U(e)),n(F()),function(e){var t=y+"/song/url?id=".concat(e);return v.a.get(t)}(e.id).then(function(a){var r=a.data.data;if(!r[0].url)return D.info("\u6b4c\u66f2\u6682\u65e0\u7248\u6743\uff0c\u6211\u5e2e\u4f60\u6362\u9996\u6b4c\u5427"),void(i!==c.length-1&&n(K()));if(e.musicUrl=r[0].url,n(U(e)),t){n(Y(!1))}e.imgUrl||function(e){var t=y+"/song/detail?ids=".concat(e);return v.a.get(t)}(e.id).then(function(t){var a=t.data;e.imgUrl=a.songs[0].al.picUrl,n(U(e))})}))}},K=function(){return function(e,t){var n=t(),a=n.currentIndex,r=n.playList,c=r.length;0!==c&&1!==c&&(n.playMode===E.RANDOM_PLAY?a=Q(a,c):a<c-1?a++:a=0,e(W(r[a])),e(J(a)))}},X=function(e){return function(t,n){var a=null;L.a.find({name:"collector"},function(n,r){var c=S((a=r[0]).foundList[0].tracks,e);c<0?(a.foundList[0].tracks.unshift(e),D.info("\u5df2\u7ecf\u52a0\u5165\u5230\u559c\u6b22\u7684\u6b4c\u66f2\u4e2d")):a.foundList[0].tracks.splice(c,1),L.a.update({name:"collector"},a,function(){t(T(a))})})}},q=function(e){return function(t){L.a.find({name:"collector"},function(n,a){var r=a[0],c=S(r.collectList,e);c<0?(r.collectList.push(e),t(T(r)),L.a.update({name:"collector"},r,function(){D.info("\u6536\u85cf\u6b4c\u5355\u6210\u529f")})):(r.collectList.splice(c,1),t(T(r)),L.a.update({name:"collector"},r))})}};function Q(e,t){var n=Math.floor(Math.random()*t);return n===e?Q(e,t):n}function z(e){return e.map(function(e){var t=e.ar.map(function(e){return{id:e.id,name:e.name}});return{id:e.id,musicName:e.name,imgUrl:e.al.picUrl,singers:t,album:{id:e.al.id,name:e.al.name}}})}var Z=n(130);n(88);function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ee=function(e){Object(o.a)(n,e);var t=$(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"base-loding"},r.a.createElement("div",{className:"bouncing-loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),n}(a.Component);n(90);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ne=function(e){Object(o.a)(n,e);var t=te(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleGetRecommendList=function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";return t=e?y+"/top/playlist/highquality?before=".concat(e,"&limit=30"):y+"/top/playlist/highquality?limit=30",v.a.get(t)})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).then(function(e){var t=e.data;if(t.playlists&&0===t.playlists.length)return D.info("\u5df2\u7ecf\u5230\u5e95\u5566~"),void a.setState(function(){return{gotRecommend:!1,showLoding:!1}});a.setState(function(e){return{recommendList:e.recommendList.concat(t.playlists),gotRecommend:!1,showLoding:!1}})})},a.handleUserScroll=function(){var e=a.refs.recommendList;e.scrollHeight-(e.scrollTop+e.clientHeight)===0&&!a.state.gotRecommend&&a.setState(function(){return{gotRecommend:!0,showLoding:!0}},function(){var e=a.state.recommendList.length-1;a.handleGetRecommendList(a.state.recommendList[e].updateTime)})},a.renderRecommendList=function(){return a.state.recommendList.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"list-img-container",onClick:function(){return a.props.handleGetMusicListDetail(e.id)}},r.a.createElement("i",{className:"iconfont icon-play"}),r.a.createElement("img",{className:"list-img",src:e.coverImgUrl+O(153),alt:""}),r.a.createElement("div",{className:"played-counts"},r.a.createElement("i",{className:"iconfont icon-erji"}),r.a.createElement("span",null,C(e.playCount))),r.a.createElement("div",{className:"shadow"})),r.a.createElement("p",{className:"list-name"},e.name))})},a.state={recommendList:[],gotRecommend:!1,showLoding:!0},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.handleGetRecommendList()}},{key:"render",value:function(){return r.a.createElement("div",{className:["recommend-container",this.props.showMusicList||this.props.showSingerInfo?"hide-recommend-container":""].join(" ")},r.a.createElement("ul",{className:"recommend-list",onScroll:this.handleUserScroll,ref:"recommendList"},this.renderRecommendList(),this.state.showLoding&&r.a.createElement(ee,null)))}}]),n}(a.Component),ae=Object(Z.a)(Object(d.b)(function(e){return{showMusicList:e.showMusicList,showSingerInfo:e.showSingerInfo}},function(e){return{handleChangeCurrentMusicList:function(t){var n=A(t);e(n)},handleChangeShowLoadingAction:function(t){e(_(t))},handleGetMusicListDetail:function(t){e(P(t))}}})(ne)),re=n(7),ce=function(e,t){var n=y+"/search?keywords=".concat(e,"&type=").concat(t,"&limit=80");return v.a.get(n)};function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var se=function(e){Object(o.a)(n,e);var t=ie(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderSingers=function(){return e.props.singers.map(function(t,n){return n!==e.props.singers.length-1?r.a.createElement("span",{key:n},r.a.createElement("span",{className:"highlight",onClick:function(){return e.props.handleGetSingerInfo(t.id)}},t.name)," ","/"," "):r.a.createElement("span",{className:"highlight",key:n,onClick:function(){return e.props.handleGetSingerInfo(t.id)}},t.name)})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,Array.isArray(this.props.singers)?this.renderSingers():"")}}]),n}(a.Component),le=Object(d.b)(null,function(e){return{handleGetSingerInfo:function(t){e(x(t))}}})(se);n(93);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ue=function(e){Object(o.a)(n,e);var t=oe(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderMusicList=function(){return e.props.list.map(function(t,n){var a=n+1;return a<10&&(a="0"+a),r.a.createElement("li",{key:t.id,className:"list-li"},r.a.createElement("div",{className:"count"},a),r.a.createElement("div",{className:"music-name"},r.a.createElement("span",{className:"highlight",onClick:function(){return e.props.handleChangeCurrentMusic(t)}},t.musicName)),r.a.createElement("div",{className:"singer-name"},r.a.createElement(le,{singers:t.singers})),r.a.createElement("div",{className:"album-name"},r.a.createElement("span",{className:"highlight",onClick:function(){return e.props.handleGetAlbumInfo(t.album.id)}},t.album.name)),r.a.createElement("div",{className:"control-btn"},r.a.createElement(re.If,{condition:S(e.props.likesList,t)<0},r.a.createElement(re.Then,null,r.a.createElement("span",{className:"like-music",onClick:function(){return e.props.handleAddToLikeList(t)}},r.a.createElement("i",{className:"iconfont icon-will-love",title:"\u6dfb\u52a0\u5230\u6211\u559c\u6b22\u7684\u97f3\u4e50"}))),r.a.createElement(re.Else,null,r.a.createElement("span",{className:"dislike-music",onClick:function(){return e.props.handleAddToLikeList(t)}},r.a.createElement("i",{className:"iconfont icon-love",title:"\u4e0d\u559c\u6b22\u8fd9\u9996\u6b4c\u5566~"}))))))})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"show-list-container"},r.a.createElement("ul",null,r.a.createElement(re.If,{condition:this.props.showTitle},r.a.createElement("li",{className:"title"},r.a.createElement("div",{className:"count"}),r.a.createElement("div",{className:"music-name"},r.a.createElement("span",null,"\u6b4c\u66f2\u540d")),r.a.createElement("div",{className:"singer-name"},r.a.createElement("span",null,"\u6b4c\u624b")),r.a.createElement("div",{className:"album-name"},r.a.createElement("span",null,"\u4e13\u8f91")))),this.renderMusicList()))}}]),n}(a.Component);ue.defaultProps={showTitle:!0};var fe=Object(d.b)(function(e){return{playList:e.playList,likesList:e.collector?e.collector.foundList[0].tracks:null}},function(e){return{handleChangeCurrentMusic:function(t){e(W(t))},handleGetAlbumInfo:function(t){e(H(t))},handleAddToLikeList:function(t){e(X(t))}}})(ue);n(95);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var pe={SONGS:1,ALBUMS:10,SINGERS:100,PLAYLIST:1e3},he=13,de=function(e){Object(o.a)(n,e);var t=me(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).changeCurrentSearchType=function(e){e!==a.state.searchType&&(""!==a.state.searchVal?a.setState(function(){return{searchType:e}},function(){a.handleGetType()}):a.setState(function(){return{searchType:e}}))},a.toggleShowLoading=function(){a.setState(function(e){return{showLoading:!e.showLoading}})},a.handleGetSongs=function(){a.toggleShowLoading(),ce(a.state.searchVal,pe.SONGS).then(function(e){var t=e.data.result.songs,n=JSON.parse(JSON.stringify(a.state.result));n.songs=t.map(function(e){var t=e.artists.map(function(e){return{id:e.id,name:e.name}});return{id:e.id,musicName:e.name,imgUrl:null,singers:t,album:{id:e.album.id,name:e.album.name}}}),a.setState(function(){return{result:n}}),a.toggleShowLoading()}).catch(function(){a.toggleShowLoading()})},a.handleGetAlbums=function(){a.toggleShowLoading(),ce(a.state.searchVal,pe.ALBUMS).then(function(e){var t=e.data,n=JSON.parse(JSON.stringify(a.state.result));n.albums=t.result.albums,a.setState(function(){return{result:n}}),a.toggleShowLoading()}).catch(function(){a.toggleShowLoading()})},a.handleGetSingers=function(){a.toggleShowLoading(),ce(a.state.searchVal,pe.SINGERS).then(function(e){var t=e.data,n=JSON.parse(JSON.stringify(a.state.result));n.singers=t.result.artists,a.setState(function(){return{result:n}}),a.toggleShowLoading()}).catch(function(){a.toggleShowLoading()})},a.handleGetPlaylist=function(){a.toggleShowLoading(),ce(a.state.searchVal,pe.PLAYLIST).then(function(e){var t=e.data,n=JSON.parse(JSON.stringify(a.state.result));n.playlist=t.result.playlists,a.setState(function(){return{result:n}}),a.toggleShowLoading()}).catch(function(){a.toggleShowLoading()})},a.handleKeydown=function(e){e.keyCode===he&&a.handleGetType()},a.handleClickHotSearch=function(e){a.setState(function(){return{searchVal:e}},function(){a.handleGetType()})},a.renderHotSearch=function(){var e=a.state.hotSearch;return e?e.map(function(e,t){return 0===t?r.a.createElement("span",{onClick:function(){return a.handleClickHotSearch(e.first)},key:e.first,className:"first-hot-search"},e.first,r.a.createElement("i",null,"HOT")):r.a.createElement("span",{onClick:function(){return a.handleClickHotSearch(e.first)},key:e.first},e.first)}):null},a.renderResult=function(){switch(a.state.searchType){case"songs":return a.renderResultSongs();case"albums":return a.renderResultAlbums();case"singers":return a.renderResultSingers();case"playlist":return a.renderResultPlayList()}},a.renderResultSongs=function(){return a.state.result.songs?r.a.createElement(fe,{showTitle:!1,list:a.state.result.songs}):null},a.renderResultAlbums=function(){return a.state.result.albums?r.a.createElement("ul",{className:"result-albums"},a.state.result.albums.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"album-img",onClick:function(){return a.props.handleGetAlbumInfo(e.id)}},r.a.createElement("img",{src:e.picUrl+O(60),alt:"\u4e13\u8f91\u56fe\u7247"})),r.a.createElement("p",{className:"album-name",onClick:function(){return a.props.handleGetAlbumInfo(e.id)}},r.a.createElement("span",null,e.name)),r.a.createElement("p",{className:"singer-name",onClick:function(){return a.props.handleGetSingerInfo(e.artist.id)}},r.a.createElement("span",null,e.artist.name)),r.a.createElement("div",{className:"publish-time"},b(e.publishTime)))})):null},a.renderResultSingers=function(){return a.state.result.singers?r.a.createElement("ul",{className:"result-singers"},a.state.result.singers.map(function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return a.props.handleGetSingerInfo(e.id)}},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:e.img1v1Url+O(100),alt:""})),r.a.createElement("p",{className:"name"},e.name))})):null},a.renderResultPlayList=function(){return a.state.result.playlist?r.a.createElement("ul",{className:"result-playlist"},a.state.result.playlist.map(function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return a.props.handleGetMusicListDetail(e.id)}},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:e.coverImgUrl+O(130),alt:""})),r.a.createElement("p",{className:"count"},"TRACKS: ",e.trackCount),r.a.createElement("p",{className:"name"},e.name))})):null},a.state={hotSearch:null,searchVal:"",result:{songs:null,albums:null,singers:null,playlist:null},searchType:"songs",showLoading:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=y+"/search/hot";return v.a.get(e)})().then(function(t){var n=t.data.result.hots;e.setState(function(){return{hotSearch:n}})})}},{key:"handleGetType",value:function(){var e=this;this.setState(function(){return{result:{songs:null,albums:null,singers:null,playlist:null}}},function(){switch(e.state.searchType){case"songs":e.handleGetSongs();break;case"albums":e.handleGetAlbums();break;case"singers":e.handleGetSingers();break;case"playlist":e.handleGetPlaylist()}})}},{key:"render",value:function(){var e=this,t=this.state.searchType;return r.a.createElement("div",{className:["page-search",this.props.showMusicList||this.props.showSingerInfo?"hide-page-search":""].join(" ")},r.a.createElement("div",{className:"search-container"},r.a.createElement("div",{className:"search-input-container"},r.a.createElement("i",{className:"iconfont icon-search"}),r.a.createElement("input",{autoFocus:!0,value:this.state.searchVal,placeholder:"\u641c\u70b9\u4ec0\u4e48\u60f3\u542c\u7684\u5427..",onChange:function(t){var n=t.target.value;e.setState(function(){return{searchVal:n}})},onKeyDown:function(t){e.handleKeydown(t)}})),r.a.createElement("div",{className:"hot-search-container"},this.renderHotSearch()),r.a.createElement("div",{className:"search-result"},r.a.createElement("nav",null,r.a.createElement("span",{className:["songs","songs"===t?"active":""].join(" "),onClick:function(){return e.changeCurrentSearchType("songs")}},"\u6b4c\u66f2"),r.a.createElement("span",{className:["albums","albums"===t?"active":""].join(" "),onClick:function(){return e.changeCurrentSearchType("albums")}},"\u4e13\u8f91"),r.a.createElement("span",{className:["singers","singers"===t?"active":""].join(" "),onClick:function(){return e.changeCurrentSearchType("singers")}},"\u6b4c\u624b"),r.a.createElement("span",{className:["playlist","playlist"===t?"active":""].join(" "),onClick:function(){return e.changeCurrentSearchType("playlist")}},"\u6b4c\u5355")),r.a.createElement("div",{className:"result"},this.renderResult())),r.a.createElement(re.If,{condition:this.state.showLoading},r.a.createElement("div",{className:"loading-container"},r.a.createElement(ee,null)))))}}]),n}(a.Component),ge=Object(d.b)(function(e){return{showMusicList:e.showMusicList,showSingerInfo:e.showSingerInfo}},function(e){return{handleGetSingerInfo:function(t){e(x(t))},handleGetAlbumInfo:function(t){e(H(t))},handleGetMusicListDetail:function(t){e(P(t))}}})(de);n(97),n(99);function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ye=function(e){Object(o.a)(n,e);var t=ve(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"base-dialog"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"alert"},this.props.text),r.a.createElement("button",{className:"btn-true",onClick:function(){return e.props.handleClickBtn(!0)}},this.props.trueBtnText),r.a.createElement("button",{className:"btn-false",onClick:function(){return e.props.handleClickBtn(!1)}},this.props.falseBtnText)))}}]),n}(a.Component);function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}ye.defaultProps={trueBtnText:"\u786e\u5b9a",falseBtnText:"\u53d6\u6d88"};var Ne=0,Le=1,be=function(e){Object(o.a)(n,e);var t=Ee(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChangeCurrentList=function(e,t){a.setState(function(){return{currentList:e,listType:t}})},a.handleDelCollectPlaylist=function(e){a.setState(function(){return{showDialog:!0,willDelList:e}})},a.handleClickDialog=function(e){e&&a.props.handleToggleCollectPlaylist(a.state.willDelList),a.setState(function(){return{showDialog:!1}})},a.renderCollectList=function(){var e=a.props.collector;return e?e.collectList.map(function(t,n){return r.a.createElement("li",{key:t.id},r.a.createElement("i",{className:"iconfont icon-yinleliebiao"}),r.a.createElement("span",{onClick:function(){return a.handleChangeCurrentList(e.collectList[n],Ne)}},t.name),r.a.createElement("i",{className:"iconfont icon-del",onClick:function(){return a.handleDelCollectPlaylist(t)}}))}):null},a.renderFoundList=function(){var e=a.props.collector;return e?e.foundList.map(function(t,n){return 0===n?r.a.createElement("li",{key:t.name,onClick:function(){return a.handleChangeCurrentList(e.foundList[n],Le)}},r.a.createElement("i",{className:"iconfont icon-will-love"}),r.a.createElement("span",null,t.name)):r.a.createElement("li",{key:t.name,onClick:function(){return a.handleChangeCurrentList(e.foundList[n],Le)}},r.a.createElement("i",{className:"iconfont icon-yinleliebiao"}),r.a.createElement("span",null,t.name))}):null},a.renderFoundListImg=function(e){for(var t=0;t<e.length;t++)if(e[t].imgUrl)return r.a.createElement("img",{src:e[t].imgUrl+O(153),alt:"\u6b4c\u5355\u56fe\u7247"})},a.renderCurrentList=function(){var e=a.state.currentList;return e?r.a.createElement("div",null,r.a.createElement("div",{className:"list-info"},r.a.createElement("div",{className:"list-img"},r.a.createElement(re.If,{condition:a.state.listType===Ne},r.a.createElement(re.Then,null,r.a.createElement("img",{src:e.coverImgUrl+O(153),alt:"\u6b4c\u5355\u56fe\u7247"})),r.a.createElement(re.Else,null,r.a.createElement("div",{className:"found-list"},r.a.createElement("div",{className:"filter"}),a.renderFoundListImg(e.tracks),r.a.createElement("i",{className:"iconfont icon-will-love"}))))),r.a.createElement("div",{className:"list-info-right"},r.a.createElement("h1",{className:"name"},e.name),r.a.createElement(re.If,{condition:"string"===typeof e.description&&e.description.length>0},r.a.createElement("p",{className:"desc"},"\u7b80\u4ecb\uff1a",e.description)),r.a.createElement("div",{className:"count"},r.a.createElement("p",{className:"track-count"},"\u6b4c\u66f2\u6570 ",r.a.createElement("span",null,e.tracks.length)),r.a.createElement(re.If,{condition:"number"===typeof e.playCount},r.a.createElement("p",{className:"track-count"},"\u6536\u542c\u6570 ",r.a.createElement("span",null,C(e.playCount))))),r.a.createElement("button",{className:"play-btn",onClick:function(){return a.props.changeMusicList(e.tracks)}},r.a.createElement("i",{className:"iconfont icon-bofangicon"}),r.a.createElement("p",null,"\u64ad\u653e\u5168\u90e8")))),r.a.createElement("div",{className:"tracks-contianer"},r.a.createElement(fe,{showLikeBtn:!1,showDislikeBtn:!0,list:e.tracks}))):null},a.state={currentList:a.props.collector?a.props.collector.foundList[0]:null,listType:Le,activeList:0,showDialog:!1,willDelList:null},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:["page-collect",this.props.showMusicList||this.props.showSingerInfo?"hide-page-collect":""].join(" "),ref:"pageCollect"},r.a.createElement("div",{className:"left-nav"},r.a.createElement("div",{className:"nav-collect-found-list"},r.a.createElement("p",{className:"title"},"\u521b\u5efa\u7684\u6b4c\u5355"),r.a.createElement("ul",null,this.renderFoundList())),r.a.createElement("div",{className:"nav-collect-list-container"},r.a.createElement("p",{className:"title"},"\u6536\u85cf\u7684\u6b4c\u5355"),r.a.createElement("ul",null,this.renderCollectList()))),r.a.createElement("div",{className:"collect-container"},this.renderCurrentList()),r.a.createElement(re.If,{condition:this.state.showDialog},r.a.createElement(ye,{text:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u6b4c\u5355\u5417\uff1f",handleClickBtn:this.handleClickDialog})))}}]),n}(a.Component),Se=Object(d.b)(function(e){return{collector:e.collector,showMusicList:e.showMusicList,showSingerInfo:e.showSingerInfo}},function(e){return{changeMusicList:function(t){e(B(t)),e(J(-1)),e(K())},handleToggleCollectPlaylist:function(t){e(q(t))}}})(be);n(101);function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Oe=function(e){Object(o.a)(n,e);var t=Ce(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).renderList=function(){var e=a.state.rankList;return e?e.map(function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return a.props.handleGetMusicListDetail(e.id)}},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:e.coverImgUrl+O(130),alt:""})),r.a.createElement("p",{className:"name"},e.name),r.a.createElement("p",{className:"update-frequency"},e.updateFrequency),r.a.createElement("p",{className:"update-time"},"\u6700\u540e\u66f4\u65b0:"," ",b(e.updateTime,{y:!1,d:!0,m:!0})))}):null},a.state={rankList:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=y+"/toplist";return v.a.get(e)})().then(function(t){e.setState(function(){return{rankList:t.data.list}})})}},{key:"render",value:function(){return r.a.createElement("div",{className:["page-rank",this.props.showMusicList||this.props.showSingerInfo?"hide-page-rank":""].join(" ")},r.a.createElement("ul",{className:"rank-container"},this.renderList()))}}]),n}(a.Component),ke=Object(d.b)(function(e){return{showMusicList:e.showMusicList,showSingerInfo:e.showSingerInfo}},function(e){return{handleGetMusicListDetail:function(t){e(P(t))}}})(Oe);n(103);function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Re=function(e){Object(o.a)(n,e);var t=Me(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleOpenExternalUrl=function(e){window.open(e,"_blank")},a.state={rankList:null},a}return Object(l.a)(n,[{key:"renderAbout",value:function(){var e=this;return r.a.createElement("li",{className:"about"},r.a.createElement("h1",{className:"title"},"\u5173\u4e8e Here Music"),r.a.createElement("div",{className:"description"},r.a.createElement("p",{className:"here"},"Here Music :"," ",r.a.createElement("span",{onClick:function(){return e.handleOpenExternalUrl("https://github.com/caijinyc/here")}},"https://github.com/caijinyc/here")),r.a.createElement("p",null,"\u56e0\u4e3a\u8f6f\u4ef6\u6682\u65f6\u662f\u4e2a\u4eba\u5f00\u53d1\u7ef4\u62a4\uff0c\u6240\u4ee5\u96be\u514d\u4f1a\u6709\u4e00\u4e9b\u6ca1\u6709\u6ce8\u610f\u5230\u7684\u95ee\u9898\uff0c\u8bf7\u89c1\u8c05\u3002"),r.a.createElement("p",null,"\u5982\u679c\u5bf9 Here Music \u6709\u4efb\u4f55\u5efa\u8bae\uff0c\u6216\u8005\u6709 Bug \u9700\u8981\u53cd\u9988\u7684\u8bdd\u6b22\u8fce\u5728"," ",r.a.createElement("span",{onClick:function(){return e.handleOpenExternalUrl("https://github.com/caijinyc/here/issues")}},"Issues"),"\u4e2d\u63d0\u51fa\u3002"),r.a.createElement("p",null,"\u5982\u679c\u60a8\u559c\u6b22 Here Music \u7684\u8bdd\uff0c\u6b22\u8fce Star \u548c Fork \u672c\u9879\u76ee\u3002"),r.a.createElement("p",{className:"license"},"Version 0.1.1 \u672c\u8f6f\u4ef6\u57fa\u4e8e MIT \u534f\u8bae\u5f00\u6e90")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"page-about"},r.a.createElement("ul",{className:"page-about-container"},this.renderAbout()))}}]),n}(a.Component),Ie=Object(d.b)(function(e){return{showMusicList:e.showMusicList,showSingerInfo:e.showSingerInfo,collector:e.collector}},function(e){return{handleChangeCollector:function(t){e(T(t))}}})(Re),je=n(131);n(105);function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var De=function(e){Object(o.a)(n,e);var t=we(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).isActive=function(t){return e.props.location.pathname===t?"active":""},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement(je.a,{exact:!0,activeClassName:this.isActive("/"),to:"/",onClick:this.props.handleHideMusicListAndSingerInfo},"\u63a8\u8350"),r.a.createElement(je.a,{activeClassName:this.isActive("/rank"),to:"/rank",onClick:this.props.handleHideMusicListAndSingerInfo},"\u6392\u884c\u699c"),r.a.createElement(je.a,{activeClassName:this.isActive("/search"),to:"/search",onClick:this.props.handleHideMusicListAndSingerInfo},"\u641c\u7d22"),r.a.createElement(je.a,{activeClassName:this.isActive("/collect"),to:"/collect",onClick:this.props.handleHideMusicListAndSingerInfo},"\u6536\u85cf")))}}]),n}(a.Component),Te=Object(Z.a)(Object(d.b)(null,function(e){return{handleHideMusicListAndSingerInfo:function(){e({type:"HIDE_MUSIC_LIST"}),e({type:"HIDE_SINGER_INFO"})}}})(De));n(108);function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Pe=function(e){Object(o.a)(n,e);var t=Ae(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleWindowResize=function(){a.setState(function(){return{controlBarOffestLeft:_e(a.refs.controlBar,"left")}})},a.progressMouseDown=function(){document.addEventListener("mousemove",a.progressMouseMove,!1),document.addEventListener("mouseup",a.progressMouseUp,!1)},a.progressMouseMove=function(e){var t=(e.clientX-a.state.controlBarOffestLeft)/a.refs.controlBar.clientWidth;t<0?t=0:t>1&&(t=1),a.props.percentChange(t)},a.progressMouseUp=function(e){document.removeEventListener("mousemove",a.progressMouseMove,!1),document.removeEventListener("mouseup",a.progressMouseUp,!1);var t=(e.clientX-a.state.controlBarOffestLeft)/a.refs.controlBar.clientWidth;t<0?t=0:t>1&&(t=1),a.props.percentChangeEnd(t)},a.clickToChangePercent=function(e){var t=(e.clientX-a.state.controlBarOffestLeft)/a.refs.controlBar.clientWidth;t<0?t=0:t>1&&(t=1),a.props.percentChangeEnd(t)},a.state={mouseDown:!1,controlBarOffestLeft:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{controlBarOffestLeft:_e(e.refs.controlBar,"left")}}),window.addEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){return r.a.createElement("div",{className:"progress-bar",onClick:this.clickToChangePercent},r.a.createElement("div",{className:"add-click-scope"},r.a.createElement("div",{className:"control-bar",ref:"controlBar"},r.a.createElement("div",{className:"elapsed-bar",style:{width:100*this.props.percent+"%"}},r.a.createElement("span",{className:"btn",onMouseDown:this.progressMouseDown})))))}}]),n}(a.Component);function _e(e,t){for(var n="offset"+t[0].toUpperCase()+t.substring(1),a=e[n],r=e.offsetParent;null!=r;)a+=r[n],r=r.offsetParent;return a}n(110);function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ge=function(e){Object(o.a)(n,e);var t=Ue(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"format",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;isNaN(e)&&(e=0);var t=Math.floor(e/60);t<10&&(t="0"+t);var n=Math.floor(e%60);return n<10&&(n="0"+n),t+":"+n}},{key:"render",value:function(){return r.a.createElement("div",{className:"play-time"},r.a.createElement("span",{className:"current-time"},this.format(this.props.currentTime)),"/",r.a.createElement("span",{className:"duration"},this.format(this.props.duration)))}}]),n}(a.Component);Ge.defaultProps={currentTime:0,duration:0};var xe=Ge;n(112);function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Be=function(e){Object(o.a)(n,e);var t=He(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).scrollToCurrentMusic=function(){if(0!==e.props.playList.length&&e.refs.playListUl)e.props.currentIndex},e.renderPlayList=function(){return e.props.playList.map(function(t,n){return r.a.createElement("li",{key:t.id,className:e.props.currentIndex===n?"action":"",onDoubleClick:function(){return e.props.handleChangeCurrentMusic(t)}},r.a.createElement("div",{className:"music-name"},r.a.createElement("span",{onClick:function(){return e.props.handleChangeCurrentMusic(t)}},t.musicName)),r.a.createElement("div",{className:"singer-name"},r.a.createElement(le,{singers:t.singers})),r.a.createElement("i",{className:"iconfont icon-del",onClick:function(){return e.props.handleDeleteMusic(t)}}))})},e}return Object(l.a)(n,[{key:"getAlert",value:function(){alert("getAlert from Child")}},{key:"render",value:function(){var e=this.props.playList.length;return r.a.createElement("div",{className:"play-list",onClick:function(e){e.nativeEvent.stopImmediatePropagation()}},r.a.createElement("div",{className:"list-info"},r.a.createElement("span",{className:"music-count"},"\u5171 ",e," \u9996"),r.a.createElement("span",{className:"collect"}),r.a.createElement("span",{className:"delete",onClick:this.props.emptyPlayList},"\u5168\u90e8\u6e05\u7a7a")),r.a.createElement(re.If,{condition:0===e},r.a.createElement(re.Then,null,r.a.createElement("div",{className:"without-music"},"\u4f60\u8fd8\u6ca1\u6709\u6dfb\u52a0\u6b4c\u66f2")),r.a.createElement(re.Else,null,r.a.createElement("ul",{ref:"playListUl"},this.renderPlayList()))))}}]),n}(a.Component),Je=Object(d.b)(function(e){return{playList:e.playList,currentIndex:e.currentIndex}},function(e){return{handleChangeCurrentMusic:function(t){var n=W(t);e(n)},handleDeleteMusic:function(t){var n=function(e){return function(t,n){var a=n(),r=JSON.parse(JSON.stringify(a)).currentIndex,c=JSON.parse(JSON.stringify(a)).playList,i=S(c,e);if(c.splice(i,1),i<r?t(J(--r)):i===r&&(t(K()),t(J(r))),0===c.length){var s=JSON.parse(JSON.stringify(a)).currentMusic;s.musicUrl="",t(U(s))}t(B(c))}}(t);e(n)},emptyPlayList:function(){e(function(e){e(B([])),e(Y(!1))})}}},null,{forwardRef:!0})(Be),Ye=n(46),Ve=n.n(Ye);n(114);function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var We=function(e){Object(o.a)(n,e);var t=Fe(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).displayMusicDetailGetMusicTime=function(e){a.setState(function(){return{musicTime:e}},function(){a.state.lyric&&a.seek(a.state.musicTime)})},a.togglePlay=function(){a.state.lyric.togglePlay()},a.seek=function(e){a.state.lyric.seek(1e3*e)},a.renderLyric=function(){if(a.state.lyric)return a.state.lyric.lines.map(function(e,t){return r.a.createElement("li",{key:t,className:[a.state.currentLineNum===t?"highlight":"","lyric-list"].join(" ")},e.txt)})},a.handleLyric=function(e){var t=e.lineNum;if(!a.state.noLyric&&(a.setState(function(){return{currentLineNum:t}}),t>5)){var n=document.querySelector(".lyric-container");n.childNodes[t].offsetTop,n.childNodes[5].offsetTop}},a.state={lyric:null,noLyric:!1,currentLineNum:0,musicTime:0},a}return Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.currentMusicLyric)if(!("nolyric"in e.currentMusicLyric)&&"lrc"in e.currentMusicLyric){if(!(JSON.stringify(e.currentMusicLyric)===JSON.stringify(this.props.currentMusicLyric))){null!==this.state.lyric&&this.state.lyric.stop();var n=new Ve.a(e.currentMusicLyric.lrc.lyric,this.handleLyric);this.setState(function(){return{lyric:n,noLyric:!1}},function(){t.state.lyric.play()})}}else this.setState(function(){return{noLyric:!0}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentMusic,a=t.showMusicDetail;return r.a.createElement("div",{className:a?"music-detail":"hide-music-detail"},r.a.createElement("button",{className:"hide-music-detail-btn",onClick:this.props.handletoggleShowMusicDetail},r.a.createElement("i",{className:"iconfont icon-cha"})),r.a.createElement("div",{className:"detail-container"},r.a.createElement("div",{className:"left-contanier"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:n.imgUrl+O(250),alt:""}))),r.a.createElement("div",{className:"music-right-container"},r.a.createElement("div",{className:"music-info"},r.a.createElement("p",{className:"music-name"},n.musicName),r.a.createElement("p",{className:"singer-name",onClick:this.props.handletoggleShowMusicDetail},"\u6b4c\u624b\uff1a",r.a.createElement(le,{singers:n.singers})),r.a.createElement("p",{className:"album-name",onClick:function(){return e.props.handleGetAlbumInfo(n.album.id)}},"\u4e13\u8f91\uff1a",n.album.name)),r.a.createElement("div",{className:"lyric"},r.a.createElement(re.If,{condition:!this.state.noLyric},r.a.createElement(re.Then,null,r.a.createElement("ul",{className:"lyric-container",ref:"lyricList"},this.renderLyric())),r.a.createElement(re.Else,null,r.a.createElement("p",{className:"noLyric"},"\u6682\u65e0\u6b4c\u8bcd")))))))}}]),n}(a.Component),Ke=Object(d.b)(function(e){return{showMusicDetail:e.showMusicDetail,currentMusic:e.currentMusic,currentMusicLyric:e.currentMusicLyric}},function(e){return{handletoggleShowMusicDetail:function(){e({type:"TOGGLE_SHOW_MUSIC_DETAIL"})},handleGetAlbumInfo:function(t){this.handletoggleShowMusicDetail(),e(H(t))}}},null,{forwardRef:!0})(We);n(116);function Xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var qe=0,Qe={playing:!0,paused:!1},ze=function(e){Object(o.a)(n,e);var t=Xe(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleGlobalShortcut=function(e){"nextMusic"!==e?"prevMusic"!==e?"changePlayingStatus"===e&&(a.props.playing?a.handleChangePlayingStatus(Qe.paused):a.handleChangePlayingStatus(Qe.playing)):a.props.playPrevMusic():a.props.playNextMusic()},a.handleShortcut=function(e){if("INPUT"!==e.target.tagName){if(" "===e.key)return e.preventDefault(),void(a.props.playing?a.handleChangePlayingStatus(Qe.paused):a.handleChangePlayingStatus(Qe.playing));if("ArrowRight"===e.key&&e.metaKey)return e.preventDefault(),void a.props.playNextMusic();if("ArrowLeft"===e.key&&e.metaKey)return e.preventDefault(),void a.props.playPrevMusic();if("L"!==e.key&&"l"!==e.key||!e.metaKey)return"F"!==e.key&&"f"!==e.key||!e.metaKey?void 0:(a.props.handleHideAll(),void a.props.history.push("/search"));a.props.handleAddToLikeList(a.props.currentMusic)}},a.handleUpdateTime=function(e){if(!a.state.move){var t=e.target,n=t.currentTime,r=t.duration,c=Math.floor(n/r*1e3)/1e3;isNaN(c)&&(c=0),a.setState(function(){return{currentTime:n,percent:c,duration:r}})}},a.percentChange=function(e){if(a.props.showMusicDetail){var t=a.state.duration*e;a.refs.musicDetail.seek(t)}a.setState(function(){return{percent:e,move:!0}})},a.percentChangeEnd=function(e){var t=a.state.duration*e;a.refs.audio.currentTime=t,a.props.showMusicDetail&&a.refs.musicDetail.seek(t),a.setState(function(){return{currentTime:t,percent:e,move:!1}})},a.handleShowPlayList=function(){a.state.showPlayList?document.removeEventListener("click",a.handleShowPlayList):document.addEventListener("click",a.handleShowPlayList),a.setState(function(e){return{showPlayList:!e.showPlayList}},function(){a.refs.playList.scrollToCurrentMusic()})},a.handleShowMusicDetial=function(){a.props.toggleShowMusicDetail(),a.refs.musicDetail.displayMusicDetailGetMusicTime(a.state.currentTime)},a.handlePlayNextMusic=function(){if(a.props.playMode===E.LOOP_PLAY){a.refs.audio.currentTime=0,a.refs.audio.play(),a.setState(function(){return{currentTime:0}})}else a.props.playNextMusic()},a.renderPlayerControl=function(){return r.a.createElement("div",{className:"player-control-container"},r.a.createElement("div",{className:"play-control-btn"},r.a.createElement("div",{className:"prev-music"},r.a.createElement("i",{className:"iconfont icon-prev",onClick:a.props.playPrevMusic})),r.a.createElement("div",{className:"play"},r.a.createElement(re.If,{condition:a.props.playing},r.a.createElement(re.Then,null,r.a.createElement("i",{className:"iconfont icon-stop",onClick:function(){return a.handleChangePlayingStatus(Qe.paused)}})),r.a.createElement(re.Else,null,r.a.createElement("i",{className:"iconfont icon-bofangicon",onClick:function(){return a.handleChangePlayingStatus(Qe.playing)}})))),r.a.createElement("div",{className:"next-music"},r.a.createElement("i",{className:"iconfont icon-test",onClick:a.props.playNextMusic}))))},a.state={duration:qe,currentTime:qe,move:!1,percent:0,showPlayList:!1},a}return Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.playing||this.refs.audio.pause()}},{key:"handleChangePlayingStatus",value:function(e){if(0!==this.props.playList.length){this.props.changePlayingStatus(e);var t=this.refs.audio;e===Qe.playing?t.play():t.pause(),this.props.showMusicDetail&&this.refs.musicDetail.togglePlay()}}},{key:"render",value:function(){var e=this,t=this.props.currentMusic;return r.a.createElement("div",{className:"player-container"},r.a.createElement("div",{className:"player-left-container"},this.renderPlayerControl(),r.a.createElement("div",{className:"music-img",onClick:this.handleShowMusicDetial},r.a.createElement("img",{src:t?t.imgUrl+O(64):"",alt:""}))),r.a.createElement("div",{className:"player-middle-container"},r.a.createElement("div",{className:"music-info"},r.a.createElement("p",{className:"music-name",onClick:this.handleShowMusicDetial},t?t.musicName:""),r.a.createElement("p",{className:"singer-name"},t?r.a.createElement(le,{singers:t.singers}):"")),r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement(Pe,{percent:this.state.percent,percentChange:this.percentChange,percentChangeEnd:this.percentChangeEnd}))),r.a.createElement("div",{className:"player-right-container"},r.a.createElement("div",{className:"play-time-container"},r.a.createElement(xe,{currentTime:this.state.currentTime,duration:this.state.duration})),r.a.createElement("div",{className:"right-control-btn"},r.a.createElement("i",{className:"iconfont icon-list",onClick:this.handleShowPlayList}),r.a.createElement("div",{className:"change-play-mode"},r.a.createElement("i",{className:["iconfont icon-next",this.props.playMode===E.SEQUENCE_PLAY?"":"hide"].join(" "),onClick:function(){return e.props.changePlayMode(E.RANDOM_PLAY)}}),r.a.createElement("i",{className:["iconfont icon-loop",this.props.playMode===E.LOOP_PLAY?"":"hide"].join(" "),onClick:function(){return e.props.changePlayMode(E.SEQUENCE_PLAY)}}),r.a.createElement("i",{className:["iconfont icon-random",this.props.playMode===E.RANDOM_PLAY?"":"hide"].join(" "),onClick:function(){return e.props.changePlayMode(E.LOOP_PLAY)}})),r.a.createElement(re.If,{condition:Boolean(this.props.likesList&&S(this.props.likesList,t)<0)},r.a.createElement(re.Then,null,r.a.createElement("div",{className:"like-music",onClick:function(){return e.props.handleAddToLikeList(t)}},r.a.createElement("i",{className:"iconfont icon-will-love",title:"\u6dfb\u52a0\u5230\u6211\u559c\u6b22\u7684\u97f3\u4e50"}))),r.a.createElement(re.Else,null,r.a.createElement("div",{className:"dislike-music",onClick:function(){return e.props.handleAddToLikeList(t)}},r.a.createElement("i",{className:"iconfont icon-love",title:"\u4e0d\u559c\u6b22\u8fd9\u9996\u6b4c\u5566~"})))))),r.a.createElement(re.If,{condition:this.props.showMusicDetail},r.a.createElement("div",null,r.a.createElement("div",{className:"music-detail-background"},r.a.createElement("img",{src:t?t.imgUrl+O(250):"",alt:""})),r.a.createElement("div",{className:"player-background"}))),r.a.createElement(Ke,{ref:"musicDetail"}),r.a.createElement("div",{className:"".concat(this.state.showPlayList?"":"hide-play-list"," play-list-container")},r.a.createElement(Je,{ref:"playList",showPlayList:this.state.showPlayList})),r.a.createElement("audio",{autoPlay:!0,src:t?t.musicUrl:"",ref:"audio",onTimeUpdate:this.handleUpdateTime,onEnded:this.handlePlayNextMusic}))}}]),n}(a.Component),Ze=Object(Z.a)(Object(d.b)(function(e){return{playList:e.playList,currentMusic:e.currentMusic,playing:e.playing,playMode:e.playMode,showMusicDetail:e.showMusicDetail,likesList:e.collector?e.collector.foundList[0].tracks:null}},function(e){return{changePlayingStatus:function(t){e(Y(t))},changePlayMode:function(t){e(function(e){return{type:"CHANGE_PLAY_MODE",value:e}}(t))},playPrevMusic:function(){e(function(e,t){var n=t(),a=n.currentIndex,r=n.playList,c=r.length;0!==c&&1!==c&&(n.playMode===E.RANDOM_PLAY?a=Q(a,c):a>0?a--:a=c-1,e(W(r[a])),e(J(a)))})},playNextMusic:function(){e(K())},toggleShowMusicDetail:function(){e({type:"TOGGLE_SHOW_MUSIC_DETAIL"})},handleAddToLikeList:function(t){e(X(t))},handleHideAll:function(){e({type:"HIDE_ALL"})}}})(ze));n(118);function $e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var et=function(e){Object(o.a)(n,e);var t=$e(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleCollectList=function(){var e=a.props.musicList,t={tracks:e.tracks,name:e.name,id:e.id,coverImgUrl:e.coverImgUrl,tags:e.tags,updateTime:e.updateTime,playCount:e.playCount,description:e.description,artist:e.artist?e.artist:null,publishTime:e.publishTime?e.publishTime:null};a.props.handleToggleCollectPlaylist(t)},a.state={scrollToTop:!1},a}return Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.musicList&&e.musicList.id!==this.props.musicList.id&&this.setState(function(){return{scrollToTop:!0}})}},{key:"componentDidUpdate",value:function(){this.state.scrollToTop&&this.setState(function(){return{scrollToTop:!1}})}},{key:"renderListInfo",value:function(){var e=this,t=this.props.musicList;if(!t)return null;var n=t.description;return n.length>200&&(n=n.substring(0,180)+" ..."),r.a.createElement("div",{className:"list-info"},r.a.createElement("div",{className:"list-img"},r.a.createElement("img",{src:t.coverImgUrl+O(200),alt:""})),r.a.createElement("p",{className:"name"},t.name),r.a.createElement(re.If,{condition:"\u4e13\u8f91"===t.type},r.a.createElement("div",{className:"album-info"},r.a.createElement("p",{className:"artist"},t.artist&&t.artist.name?t.artist.name:""),r.a.createElement(re.If,{condition:"number"===typeof t.publishTime},r.a.createElement("p",{className:"publish-time"},b(t.publishTime))),r.a.createElement(re.If,{condition:"string"===typeof t.company&&t.company.length>0},r.a.createElement("p",{className:"company"},"\u53d1\u884c\uff1a",t.company)))),r.a.createElement("p",{className:"description"},n),r.a.createElement("div",{className:"control"},r.a.createElement("i",{className:"iconfont icon-play1",onClick:function(){return e.props.changeMusicList(e.props.musicList.tracks)}}),r.a.createElement("i",{className:["iconfont","icon-folder",S(this.props.collectedPlaylist,t)<0?"":"collected"].join(" "),onClick:this.handleCollectList})))}},{key:"render",value:function(){var e=this.props.musicList;return r.a.createElement("div",{className:this.props.showMusicList&&!this.props.showSingerInfo?"music-list-container":"hide-music-list-container",ref:"musicList"},this.renderListInfo(),r.a.createElement(fe,{className:"show-list-container",list:e?e.tracks:[]}))}}]),n}(a.Component),tt=Object(d.b)(function(e){return{musicList:e.musicList,showMusicList:e.showMusicList,showSingerInfo:e.showSingerInfo,collectedPlaylist:e.collector?e.collector.collectList:null}},function(e){return{changeMusicList:function(t){e(B(t)),e(J(-1)),e(K())},handleToggleCollectPlaylist:function(t){e(q(t))}}})(et);n(120);function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var at=function(e){Object(o.a)(n,e);var t=nt(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleUserScroll=function(){var e=a.refs.singerInfo;!(e.scrollHeight-(e.scrollTop+e.clientHeight)<100)||a.state.gotSingerAlbums||a.state.albums||a.setState(function(){return{gotSingerAlbums:!0}},function(){N(a.props.singerInfo.artist.id).then(function(e){a.setState(function(){return{albums:e.data}})})})},a.renderAlbums=function(){var e=a.state.albums;return e?e.hotAlbums.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"album-img-container",onClick:function(){return a.props.handleGetAlbumInfo(e.id)}},r.a.createElement("img",{src:e.picUrl+O(100),alt:"\u4e13\u8f91\u56fe\u50cf"})),r.a.createElement("p",{className:"time"},b(e.publishTime)),r.a.createElement("p",{className:"name"},e.name))}):null},a.state={gotSingerAlbums:!1,albums:null},a}return Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.singerInfo||this.setState(function(){return{gotSingerAlbums:!1,albums:null}})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.refs.singerInfo;t&&(t.scrollHeight!==t.clientHeight||this.state.albums||N(this.props.singerInfo.artist.id).then(function(t){e.setState(function(){return{albums:t.data}})}))}},{key:"render",value:function(){var e=this;if(null===this.props.singerInfo)return null;var t=this.props,n=t.singerInfo,a=t.showSingerInfo,c=this.props.singerInfo.hotSongs.map(function(e){var t=e.ar.map(function(e){return{id:e.id,name:e.name}});return{id:e.id,musicName:e.name,imgUrl:e.al.picUrl,singers:t,album:{id:e.al.id,name:e.al.name}}}),i=n.artist;return r.a.createElement("div",{className:a?"singer-info":"hide-singer-info",ref:"singerInfo",onScroll:this.handleUserScroll},r.a.createElement("span",{className:"hide-singer-info-btn",onClick:this.props.hideSingerInfo},r.a.createElement("i",{className:"iconfont icon-cha"})),r.a.createElement("div",{className:"singer-info-container"},r.a.createElement("div",{className:"singer-introduction"},r.a.createElement("div",{className:"singer-img"},r.a.createElement("img",{src:i.img1v1Url+O(150),alt:""})),r.a.createElement("div",{className:"singer-describe"},r.a.createElement("h1",{className:"name"},i.name),r.a.createElement("p",{className:"other-name"},(i.trans?i.trans:"")+(i.alias.length>0&&i.trans?" / ":"")+i.alias.join(" / ")),r.a.createElement("p",{className:"brief-desc"},"\u7b80\u4ecb\uff1a",i.briefDesc?i.briefDesc:"\u6682\u65e0\u7b80\u4ecb"))),r.a.createElement("article",{className:"singer-music"},r.a.createElement("section",{className:"songs-list"},r.a.createElement("h1",{className:"songs-list-title"},"\u70ed\u95e8\u6b4c\u66f2",r.a.createElement("span",{className:"btn",onClick:function(){return e.props.changeMusicList(c)}},"\u64ad\u653e\u6b4c\u66f2",r.a.createElement("i",{className:"iconfont icon-play1"}))),r.a.createElement(fe,{list:c})),r.a.createElement(re.If,{condition:null!==this.state.albums},r.a.createElement("section",{className:"albums-list"},r.a.createElement("h1",{className:"albums-list-title"},"\u4e13\u8f91",r.a.createElement("span",null,this.state.albums?this.state.albums.hotAlbums.length+" ALBUMS":""," ")),r.a.createElement("ul",null,this.renderAlbums()))))))}}]),n}(a.Component),rt=Object(d.b)(function(e){return{singerInfo:e.singerInfo,showSingerInfo:e.showSingerInfo}},function(e){return{handleChangeCurrentMusic:function(t){e(W(t))},changeMusicList:function(t){e(B(t)),e(J(-1)),e(K())},hideSingerInfo:function(){e({type:"HIDE_SINGER_INFO"})},handleGetAlbumInfo:function(t){e(H(t))}}})(at);n(122);function ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var it=function(e){Object(o.a)(n,e);var t=ct(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"my-title"},r.a.createElement("div",{className:"title-btn-container"}))}}]),n}(a.Component);n(124);function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var lt=function(e){Object(o.a)(n,e);var t=st(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={redirect:!0},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this;L.a.find({name:"collector"},function(t,n){0===n.length?L.a.insert({name:"collector",foundList:[{name:"\u6211\u559c\u6b22\u7684\u97f3\u4e50",tracks:[]}],collectList:[]},function(t,n){e.props.handleChangeCollector(n[0])}):e.props.handleChangeCollector(n[0])}),L.a.find({name:"cache"},function(t,n){0===n.length?L.a.insert({name:"cache",cacheValue:{playList:[],currentIndex:-1,volume:.35}}):e.props.handleLoadCache(n[0].cacheValue)})}},{key:"componentDidMount",value:function(){this.setState(function(){return{redirect:!1}})}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Te,null),r.a.createElement(tt,null),r.a.createElement(Ze,null),r.a.createElement(rt,null),r.a.createElement("div",{className:"app-background"}),r.a.createElement(p.a,{exact:!0,path:"/",component:ae}),r.a.createElement(p.a,{path:"/search",component:ge}),r.a.createElement(p.a,{path:"/collect",component:Se}),r.a.createElement(p.a,{path:"/rank",component:ke}),r.a.createElement(p.a,{path:"/about",component:Ie}),this.state.redirect?r.a.createElement(h.a,{to:"/"}):null,r.a.createElement(it,null),this.props.showLoading?r.a.createElement("div",{className:"app-loading-container"},r.a.createElement(ee,null)):null))}}]),n}(a.Component),ot=Object(d.b)(function(e){return{showLoading:e.showLoading}},function(e){return{handleChangeCollector:function(t){e(T(t))},handleLoadCache:function(t){var n;e((n=t,function(e){e(B(n.playList)),e({type:"CHANGE_VOLUME",value:n.volume}),e(J(n.currentIndex)),-1!==n.currentIndex&&0!==n.playList.length&&e(W(n.playList[n.currentIndex],!0))}))}}})(lt),ut=n(17),ft={musicList:null,showMusicList:!1,showMusicDetail:!1,showSingerInfo:!1,singerInfo:null,currentMusic:{id:167882,musicName:"\u6e05\u660e\u96e8\u4e0a",musicUrl:"",imgUrl:"https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",singers:[{id:5771,name:"\u8bb8\u5d69"}],album:{id:16953,name:"\u81ea\u5b9a\u4e49"}},currentMusicLyric:null,playing:!1,playList:[],currentIndex:0,playMode:E.SEQUENCE_PLAY,collector:null,showLoading:!1,volume:1};function mt(e){return JSON.parse(JSON.stringify(e))}function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,n=!1;L.a.find({name:"cache"},function(a,r){t=r[0],void 0!==e.volume&&(t.cacheValue.volume=e.volume,n=!0),e.playList&&JSON.stringify(e.playList)!==JSON.stringify(t.cacheValue.playList)&&(t.cacheValue.playList=e.playList,n=!0),void 0!==e.currentIndex&&e.currentIndex!==t.cacheValue.currentIndex&&(t.cacheValue.currentIndex=e.currentIndex,n=!0),n&&L.a.update({name:"cache"},t)})}var ht=n(47),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ut.c,gt=Object(ut.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;if("CHANGE_CURRENT_MUSIC_LIST"===t.type){var n=mt(e);return n.musicList=t.value,t.value&&(n.showMusicList=!0),n}if("HIDE_MUSIC_LIST"===t.type){var a=mt(e);return a.showMusicList=!1,a}if("CHANGE_CURRENT_MUSIC"===t.type){var r=mt(e);return r.currentMusic=t.value,r.playing=!0,r}if("CHANGE_PLAYING_STATUS"===t.type){var c=mt(e);return c.playing=t.status,c}if("CHANGE_PLAY_LIST"===t.type){var i=mt(e);return i.playList=t.value,pt({playList:t.value}),i}if("CHANGE_CURRENT_INDEX"===t.type){var s=mt(e);return s.currentIndex=t.index,pt({currentIndex:t.index,playList:s.playList}),s}if("CHANGE_PLAY_MODE"===t.type){var l=mt(e);return l.playMode=t.value,l}if("TOGGLE_SHOW_MUSIC_DETAIL"===t.type){var o=mt(e);return o.showMusicDetail=!o.showMusicDetail,o}if("CHANGE_CURRENT_MUSIC_LYRIC"===t.type){var u=mt(e);return u.currentMusicLyric=t.value,u}if("CHANGE_SINGER_INFO"===t.type){var f=mt(e);return f.singerInfo=t.value,f.showSingerInfo=!0,f}if("HIDE_SINGER_INFO"===t.type){var m=mt(e);return m.showSingerInfo=!1,m}if("CHANGE_COLLECTOR"===t.type){var p=mt(e);return p.collector=t.value,p}if("REFRESH_COLLECTOR"===t.type){var h=mt(e);return h.collector=function(){var e=null;return L.a.find({name:"collector"},function(t,n){e=n[0]}),e}(),h}if("CHANGE_SHOW_LOADING"===t.type){var d=mt(e);return d.showLoading=t.value,d}if("HIDE_ALL"===t.type){var g=mt(e);return g.showMusicList=!1,g.showSingerInfo=!1,g.showMusicDetail=!1,g}if("CHANGE_VOLUME"===t.type){var v=mt(e);return v.volume=t.value,pt({volume:t.value}),v}return e},dt(Object(ut.a)(ht.a)));i.a.render(r.a.createElement(d.a,{store:gt},r.a.createElement(ot,null)),document.getElementById("root"))},48:function(e,t,n){e.exports=n(126)},86:function(e,t,n){},88:function(e,t,n){},9:function(e,t,n){"use strict";(function(e){var a=n(44),r=n.n(a),c=n(29),i=n.n(c);t.a=new r.a({filename:i.a.join(e,"/data.db"),autoload:!0})}).call(this,"/")},90:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){}},[[48,2,1]]]);
//# sourceMappingURL=main.1a0c3aa1.chunk.js.map